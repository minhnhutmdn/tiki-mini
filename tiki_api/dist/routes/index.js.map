{"version":3,"sources":["../../src/routes/index.js"],"names":["cors","require","router","use","origin","config","db"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;;AAEA,IAAIC,SAAS,wBAAb;;AAEA;AACA,kBAAa,cAAM;;AAEjB;AACAA,SAAOC,GAAP,CAAWH,KAAK,EAACI,QAAQ,uBAAT,EAAL,CAAX;;AAEA;AACAF,SAAOC,GAAP,CAAW,0BAAW,EAAEE,wBAAF,EAAUC,MAAV,EAAX,CAAX;;AAEA;AACAJ,SAAOC,GAAP,CAAW,UAAX,EAAuB,uBAAQ,EAAEE,wBAAF,EAAUC,MAAV,EAAR,CAAvB;AACD,CAVD;;kBAYeJ,M","file":"index.js","sourcesContent":["import express from 'express';\nimport config from '../config';\nimport initializeDb from '../db';\nimport middleware from '../middleware';\nimport product from '../controller/product';\nvar cors = require('cors');\n\nlet router = express();\n\n// connect to db\ninitializeDb(db => {\n\n  // use it before all route definitions\n  router.use(cors({origin: 'http://localhost:8080'}));\n\n  // internal middleware\n  router.use(middleware({ config, db }));\n\n  // api routes v1 (/v1)\n  router.use('/product', product({ config, db }));\n});\n\nexport default router;\n"]}